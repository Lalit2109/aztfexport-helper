# Azure Subscriptions Configuration
# Note: Subscription discovery and exclusion is now handled by Azure Pipeline
# This file contains only export configuration settings

# Global resource group exclusions (wildcards supported: *, ?)
global_excludes:
  resource_groups:
    - "Built-in-identity-rg"
    - "networkwatcherRG"
    - "NetworkWatcherRG_*"
    - "AzureBackupRG_*"
    - "AzureSiteRecoveryRG_*"
    - "MC_*"
    - "azure-arc"
    - "DefaultResourceGroup-*"

# Logging (DEBUG, INFO, ERROR) - can override via LOG_LEVEL env var
logging:
  level: INFO

# Subscription discovery is handled by Azure Pipeline

# aztfexport configuration
aztfexport:
  # Resource types to export (empty = all)
  resource_types: []
  
  # Resource groups to exclude (in addition to global_excludes)
  exclude_resource_groups: []
  
  # Resources to exclude by full ID
  exclude_resources: []
  
  # Resource types to exclude (uses Resource Graph query mode)
  exclude_resource_types: []
  
  # Custom Resource Graph query (overrides exclude_resource_types if set)
  query: null
  
  # Additional aztfexport flags
  additional_flags: []

# Azure DevOps configuration
azure_devops:
  organization: "your-org"
  project: "your-project"

# Git configuration
git:
  # Push to repos (can override via PUSH_TO_REPOS env var)
  push_to_repos: false
  branch: "main"
  # Number of recent backup branches (runs) to keep (default: 10)
  backup_retention_count: 10

# Output configuration
output:
  base_dir: "./exports"
  # Create separate folder per resource group (default: true)
  # If true: exports/subscription-name/resource-group-1/, exports/subscription-name/resource-group-2/, etc.
  # If false: exports/subscription-name/ (all resource groups in one folder)
  create_rg_folders: true
  # Clean up export directory after successful git push (saves disk space)
  cleanup_after_push: true
  

