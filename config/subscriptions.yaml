# Azure Subscriptions Configuration
# Configure your 35 subscriptions here

# Global exclusions (applied to all subscriptions)
# These resource groups are excluded from export across all subscriptions
# Wildcard patterns are supported (* and ?)
global_excludes:
  resource_groups:
    # Azure-managed/system resource groups (wildcard supported)
    - "Built-in-identity-rg"
    - "networkwatcherRG"
    - "NetworkWatcherRG_*"        # Network Watcher (all regions)
    - "AzureBackupRG_*"           # Azure Backup
    - "AzureSiteRecoveryRG_*"     # Azure Site Recovery
    - "MC_*"                      # AKS managed clusters
    - "azure-arc"                 # Azure Arc
    - "DefaultResourceGroup-*"    # Default resource groups
    # Add more patterns as needed
    # - "rg-system-*"
    # - "rg-azure-*"

subscriptions:
  - id: "subscription-id-1"
    name: "Production Subscription 1"
    environment: "prod"
    export_enabled: true
    
  - id: "subscription-id-2"
    name: "Development Subscription 1"
    environment: "dev"
    export_enabled: true
    
  # Add remaining 33 subscriptions here
  # Template:
  # - id: "subscription-id-X"
  #   name: "Subscription Name"
  #   environment: "prod|dev|staging"
  #   export_enabled: true|false

# aztfexport configuration
aztfexport:
  # Resource types to export (empty = export all)
  # Example: ["Microsoft.Compute/virtualMachines", "Microsoft.Network/virtualNetworks"]
  resource_types: []
  
  # Resource groups to exclude from export (subscription-specific)
  # Supports exact match and wildcard patterns (* and ?)
  # These are in addition to global_excludes above
  # Example:
  # exclude_resource_groups:
  #   - "rg-exclude-this"        # Exact match
  #   - "rg-test-*"              # Wildcard pattern
  #   - "rg-temp-resources"
  exclude_resource_groups: []
  
  # Resources to exclude (by ID pattern)
  # Example: ["/subscriptions/xxx/resourceGroups/xxx/providers/Microsoft.xxx/xxx"]
  exclude_resources: []
  
  # Resource types to exclude (all resources of these types will be excluded)
  # Example: ["Microsoft.Insights/components", "Microsoft.OperationalInsights/workspaces"]
  # Note: This will query Azure to find all resources of these types and exclude them
  exclude_resource_types: []
  
  # Additional aztfexport flags
  # Example: ["--parallelism", "5"]
  additional_flags: []

# Azure DevOps configuration
azure_devops:
  organization: "your-org"
  project: "your-project"
  # Service connection name for Azure authentication
  service_connection: "Azure-ServiceConnection"

# Note: This tool uses Azure CLI (az) for all Azure operations
# Azure CLI handles SSL certificates automatically, so no SSL configuration needed
  
# Output configuration
output:
  # Base directory for exports (relative to workspace or absolute path)
  # Folder structure will be: {base_dir}/{subscription-name}/{resource-group-name}/
  # Default: "./exports"
  base_dir: "./exports"
  
  # Whether to create resource group subfolders under subscription folder
  # If true: {base_dir}/{subscription-name}/{resource-group-name}/
  # If false: {base_dir}/{subscription-name}/ (all resources in subscription folder)
  # Default: true
  create_rg_folders: true
  

